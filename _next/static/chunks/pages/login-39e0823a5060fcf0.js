(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{36429:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(37644)}])},70602:function(e,s,n){"use strict";var r=n(85893),t=n(6840);s.Z=function(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("footer",{className:"section fp-auto-height",children:(0,r.jsx)("div",{className:"intro",children:(0,r.jsx)("div",{className:"element",children:(0,r.jsx)("div",{className:"copy",children:(0,r.jsxs)("span",{children:["Copyrights \xa9 ",t.Z.name," (Private). All Right Reserved"]})})})})})})}},60109:function(e,s,n){"use strict";n.d(s,{W:function(){return a}});var r=n(53920),t=n(6840).Z.apiURL,a=(0,r.ZP)(t)},37644:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return Home}});var r=n(11010),t=n(72253),a=n(91309),i=n(97582),o=n(85893);n(34460),n(41664);var u=n(67294),c=n(50042),l=n(44057),d=n(82175),h=n(11163);n(60109);var m=n(16310),p=n(70602),f=n(83017),g=n(75265),v=n(22920);n(27967);var x=n(23362);function Home(){var e=(0,a._)((0,u.useState)(!1),2);e[0],e[1];var s=(0,a._)((0,u.useState)(!1),2);s[0],s[1];var n=(0,a._)((0,u.useState)(!1),2);n[0],n[1];var j=(0,a._)((0,u.useState)(!1),2),_=(j[0],j[1]),w=(0,a._)((0,u.useState)(!1),2),N=w[0],C=w[1],b=(0,a._)((0,u.useState)(!1),2),k=(b[0],b[1]),Z=(0,a._)((0,u.useState)(""),2),S=(Z[0],Z[1]),y=(0,a._)((0,u.useState)(""),2),T=(y[0],y[1]),A=(0,a._)((0,u.useState)(""),2);A[0],A[1];var E=(0,h.useRouter)(),O=(0,a._)((0,u.useReducer)(function(e,s){return(0,t._)({},e,s)},{data:""}),2);O[0],O[1],(0,u.useEffect)(function(){clacklogin()},[]);var R=(0,d.TA)({enableReinitialize:!0,initialValues:{username:"",password:"",user_device_id:""},validationSchema:m.Ry({username:m.Z_().required("กรุณาระบุ username"),password:m.Z_().required("กรุณาระบุ password")}),onSubmit:function(e){var s,n=window.navigator,t=window.screen,a=n.mimeTypes.length;C(!0),e.user_device_id=a,k(t),l.Z.login(e).then((s=(0,r._)(function(e){var s;return(0,i.Jh)(this,function(n){return!0==e.data.success?(s={token:e.data.token,userInfo:e.data.user},v.Am.success((0,o.jsx)("p",{className:"",children:e.data.message}),{position:"top-center",autoClose:4500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),(0,c.YR)(s),setTimeout(function(){C(!1)},5e3),S(e.data.message),"verificationUser"==e.data.redirect?(E.push("/verificationUser"),C(!1)):setTimeout(function(){E.push("/member"),C(!1)},2500)):(C(!1),v.Am.error((0,o.jsx)("p",{className:"",children:e.data.message}),{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),setTimeout(function(){_(!1),T("")},4500)),[2]})}),function(e){return s.apply(this,arguments)})).catch(function(e){C(!0),v.Am.error((0,o.jsx)("p",{className:"",children:e}),{position:"bottom-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),setTimeout(function(){_(!1),T(""),C(!1)},4500)})}}),clacklogin=function(e){x.Z.chacklogin().then(function(e){!0==e.data.success&&E.push("/member"),console.log(e.data)}).catch(function(e){})};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.Z,{headTitle:"เข้าสู่ระบบ"}),N&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(f.Z,{})}),(0,o.jsx)("div",{className:"section",id:"section4",children:(0,o.jsx)("div",{className:"intro login",children:(0,o.jsxs)("div",{className:"element",children:[(0,o.jsx)("h1",{children:"EVENT 4"}),(0,o.jsx)("form",{onSubmit:function(e){return e.preventDefault(),R.handleSubmit(),!1},children:(0,o.jsxs)("div",{className:"regist_form",children:[(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:(0,o.jsx)("input",{type:"text",name:"username",id:"username",placeholder:"A-Z, a-z, 0-9 | 6 - 12 ตัวอักษร",maxLength:12,autoComplete:"off",pattern:"[A-Za-z0-9]{6,12}",title:"กรุณาใส่ตัวหนังสือ A-Z, a-z, 0-9 จำนวน 6-12 ตัวอักษร",onChange:R.handleChange,onBlur:R.handleChange,value:R.values.username,required:!0})}),R.touched.username&&R.errors.username&&(0,o.jsx)("p",{className:"text-danger",children:R.errors.username})]}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:(0,o.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"ต้องมีความยาว 6 ตัวขึ้นไป",maxLength:24,pattern:"[A-Za-z0-9]{6,24}",title:"รหัสผ่านจะต้องมีความยาว 6-24 ตัวอักษร และไม่สามารถใช้ตัวอักษรพิเศษได้",onChange:R.handleChange,onBlur:R.handleChange,value:R.values.password,required:!0})}),R.touched.password&&R.errors.password&&(0,o.jsx)("p",{className:"text-danger",children:R.errors.password})]}),(0,o.jsx)("input",{name:"register",type:N?"button":"submit"}),(0,o.jsx)("input",{name:"reset",type:"reset",onClick:function(){return E.push("/")}}),(0,o.jsx)("a",{href:"#",onClick:function(){return window.history.back()},title:"ก่อนหน้า"})]})})]})})}),(0,o.jsx)(v.Ix,{}),(0,o.jsx)(p.Z,{})]})}}},function(e){e.O(0,[5121,1664,510,3330,2175,3920,3362,4460,9774,2888,179],function(){return e(e.s=36429)}),_N_E=e.O()}]);