(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{36429:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(37644)}])},70602:function(e,s,a){"use strict";var t=a(85893),r=a(6840);s.Z=()=>(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("footer",{className:"section fp-auto-height",children:(0,t.jsx)("div",{className:"intro",children:(0,t.jsx)("div",{className:"element",children:(0,t.jsx)("div",{className:"copy",children:(0,t.jsxs)("span",{children:["Copyrights \xa9 ",r.Z.name," (Private). All Right Reserved"]})})})})})})},60109:function(e,s,a){"use strict";a.d(s,{W:function(){return i}});var t=a(53920),r=a(6840);let n=r.Z.apiURL,i=(0,t.ZP)(n)},37644:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return Home}});var t=a(85893);a(34460),a(41664);var r=a(67294),n=a(50042),i=a(44057),o=a(82175),l=a(11163),c=a(60109),u=a(16310),d=a(70602),m=a(75265),h=a(22920);a(27967);var p=a(23362);function Home(){let[e,s]=(0,r.useState)(!1),[a,g]=(0,r.useState)(!1),[x,v]=(0,r.useState)(!1),[f,j]=(0,r.useState)(!1),[w,C]=(0,r.useState)(!1),[_,b]=(0,r.useState)(!1),[N,k]=(0,r.useState)(""),[Z,S]=(0,r.useState)(""),[O,y]=(0,r.useState)(""),T=(0,l.useRouter)(),[A,E]=(0,r.useReducer)((e,s)=>({...e,...s}),{data:""});(0,r.useEffect)(()=>{clacklogin()},[]);let P=(0,o.TA)({enableReinitialize:!0,initialValues:{username:"",password:"",user_device_id:""},validationSchema:u.Ry({username:u.Z_().required("กรุณาระบุ username"),password:u.Z_().required("กรุณาระบุ password")}),onSubmit:e=>{var s=window.navigator;window.screen;var a=s.mimeTypes.length;C(!0),e.user_device_id=a,i.Z.login(e).then(async s=>{if(s.data.success){c.W.emit("leave_room2",e);let a={token:s.data.token,userInfo:s.data.user};h.Am.success((0,t.jsx)("p",{className:"",children:s.data.message}),{position:"bottom-center",autoClose:4500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),(0,n.YR)(a),setTimeout(function(){C(!1)},5e3),k(s.data.message),"verificationUser"==s.data.redirect?(T.push("/verificationUser"),C(!1)):setTimeout(function(){T.push("/member"),C(!1)},2500)}else j(!0),h.Am.error((0,t.jsx)("p",{className:"",children:s.data.message}),{position:"bottom-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),S(s.data.message),setTimeout(function(){j(!1),S(""),C(!1)},4500)}).catch(function(e){C(!0),h.Am.error((0,t.jsx)("p",{className:"",children:e}),{position:"bottom-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),setTimeout(function(){j(!1),S(""),C(!1)},4500)})}}),clacklogin=e=>{p.Z.chacklogin().then(e=>{!0==e.data.success&&T.push("/member")}).catch(e=>{})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Z,{headTitle:"เข้าสู่ระบบ"}),w&&(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)(h.Ix,{position:"bottom-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]}),(0,t.jsx)("div",{className:"section",id:"section4",children:(0,t.jsx)("div",{className:"intro login",children:(0,t.jsxs)("div",{className:"element",children:[(0,t.jsx)("h1",{children:"EVENT 4"}),(0,t.jsx)("form",{onSubmit:e=>(e.preventDefault(),P.handleSubmit(),!1),children:(0,t.jsxs)("div",{className:"regist_form",children:[(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)("input",{type:"text",name:"username",id:"username",placeholder:"A-Z, a-z, 0-9 | 6 - 12 ตัวอักษร",maxLength:12,autoComplete:"off",pattern:"[A-Za-z0-9]{6,12}",title:"กรุณาใส่ตัวหนังสือ A-Z, a-z, 0-9 จำนวน 6-12 ตัวอักษร",onChange:P.handleChange,onBlur:P.handleChange,value:P.values.username,required:!0})}),P.touched.username&&P.errors.username&&(0,t.jsx)("p",{className:"text-danger",children:P.errors.username})]}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"ต้องมีความยาว 6 ตัวขึ้นไป",maxLength:24,pattern:"[A-Za-z0-9]{6,24}",title:"รหัสผ่านจะต้องมีความยาว 6-24 ตัวอักษร และไม่สามารถใช้ตัวอักษรพิเศษได้",onChange:P.handleChange,onBlur:P.handleChange,value:P.values.password,required:!0})}),P.touched.password&&P.errors.password&&(0,t.jsx)("p",{className:"text-danger",children:P.errors.password})]}),(0,t.jsx)("input",{name:"register",type:w?"button":"submit"}),(0,t.jsx)("input",{name:"reset",type:"reset",onClick:()=>T.push("/")}),(0,t.jsx)("a",{onClick:()=>window.history.back(),name:"reset",type:"reset2",title:"ก่อนหน้า"})]})})]})})}),(0,t.jsx)(d.Z,{})]})}}},function(e){e.O(0,[1664,5121,3129,8382,3920,4460,9774,2888,179],function(){return e(e.s=36429)}),_N_E=e.O()}]);