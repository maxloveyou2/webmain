"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4645],{64645:function(e,s,t){t.d(s,{Z:function(){return BidModal}});var a=t(85893),l=t(67294);t(50042);var n=t(23362),i=t(21938),d=t(83017);function BidModal(e){let{isBidModal:s,handleBidModal:t,description:c,getdata_member:r,getdataapi:o,point:m}=e,[h,u]=(0,l.useState)(1),[x,j]=(0,l.useState)([]),[b,g]=(0,l.useState)(!1),[p,v]=(0,l.useState)(!1),[N,y]=(0,l.useState)(!1),[f,w]=(0,l.useState)(""),add_to_wishlist=e=>{g(!0),j({id:e.id,name:e.item_name,price:parseFloat(e.price*h),total:h})},buyItem=e=>{v(!0);let s={shop_id:e.id,item_count:h};g(!1),n.Z.buy_items(s).then(e=>{!0==e.data.success?(w(e.data.message),r.getdata_member(),setTimeout(function(){v(!1)},4500)):(alert(e.data.message),setTimeout(function(){v(!1)},2500))}).catch(e=>{setTimeout(function(){v(!1)},2500),alert(e)})},closeModel=()=>{g(!1),u(1)},countItemPlus=()=>{u(h+1)},countItemMinus=()=>{u(h-1)},[C,_]=(0,l.useState)(""),[k,I]=(0,l.useState)(""),selectedItem=e=>{n.Z.addmyitemmalllist({data:e}).then(e=>{!0==e.data.success?(r.getdata_member(),I(e.data.msg),_("success")):(I(e.data.msg),_("danger")),setTimeout(function(){I("")},2500)}).catch(e=>{console.log(e)}),g(!1)};return(0,a.jsxs)(a.Fragment,{children:[p&&(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsx)(d.Z,{})," "]}),(0,a.jsxs)("div",{className:"modal fade popup ".concat(s?"show d-block":""," "),id:"popup_bid",tabIndex:-1,role:"dialog","aria-hidden":"true",children:[(0,a.jsx)("div",{className:"modal-dialog modal-dialog-lg",role:"document",children:(0,a.jsxs)("div",{className:"modal-content",children:[(0,a.jsx)("button",{type:"button",className:"close",onClick:t,children:(0,a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),(0,a.jsxs)("div",{className:"modal-body",children:[(0,a.jsx)("div",{className:"image image2 W-100",children:(0,a.jsx)("img",{src:null==c?void 0:c.picture,style:{margin:"0 auto"},alt:""})}),(0,a.jsx)("h2",{children:null==c?void 0:c.item_name}),(0,a.jsxs)("p",{style:{color:"#f0ad4e"},children:[null==c?void 0:c.description_enjoy," ",null==c?void 0:c.item_description]}),""==k?null:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"alert alert-".concat(C),children:(0,a.jsx)("h6",{children:k})})}),(0,a.jsx)("fieldset",{className:"email",children:(0,a.jsx)("input",{type:"hidden",style:{color:"#ddf247"},className:"style-1",id:"email",placeholder:"ราคา ".concat(null==c?void 0:c.price," Cash"),name:"isbuy",tabIndex:2,value:null==c?void 0:c.price,readOnly:!0})}),(0,a.jsx)("div",{className:"d-inline text-center",children:(0,a.jsxs)("div",{className:"row",style:{justifyContent:"center"},children:[(0,a.jsxs)("a",{href:"#",onClick:()=>add_to_wishlist(c),className:"tf-button style-1 h50 w-45 m-2",style:{color:"black",cursor:"pointer"},children:["$ ซื้อ ",null==c?void 0:c.price," Cash"]}),(0,a.jsxs)("a",{onClick:()=>selectedItem(c),className:"tf-button style-1 h50 w-45 m-2 btn-info",style:{color:"#fcfcfc",cursor:"pointer"},children:[(0,a.jsx)("i",{className:"icon-create"})," เพิ่มในรายการที่อยากได้"]})]})})]})]})}),(0,a.jsx)("div",{className:"overlaymenu"})]}),(0,a.jsxs)("div",{className:"modal ng-scope fade show ",id:"quantityModal",tabIndex:-1,role:"dialog","aria-labelledby":"quantityModalLabel",style:{display:"".concat(b?"block":"none"),paddingRight:17,backgroundColor:"#00000091 "},"aria-modal":"true",children:[(0,a.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:(0,a.jsxs)("div",{className:"modal-content modal-content2",children:[(0,a.jsxs)("div",{className:"modal-body modal-body2",children:[f&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsx)(i.default,{className:"alert fade show alert-dismissible alert-solid-success",color:"",variant:"success",children:(0,a.jsxs)("h5",{className:"text-center my-5",children:[" ",f]})})," "]})})," ",(0,a.jsx)("h4",{className:"text-center mb-2",style:{color:"#000"},children:"ยืนยันรายการสั่งซื้อ"}),(0,a.jsxs)("table",{className:"table table-striped",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-center",children:"ชื่อไอเทม"}),(0,a.jsx)("th",{className:"text-center",children:"ราคา"}),(0,a.jsx)("th",{className:"text-center",children:"จำนวน"})]})}),(0,a.jsx)("tbody",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"ng-binding text-center",children:null==x?void 0:x.name}),(0,a.jsx)("td",{className:"ng-binding text-center",children:null==x?void 0:x.price}),(0,a.jsxs)("td",{className:"ng-binding text-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:()=>countItemMinus(),width:18,className:"".concat(1==h?"d-none":""),height:18,viewBox:"0 0 24 24",style:{fill:"rgba(0, 0, 0, 1)",transform:"",msfilter:"",cursor:"pointer"},children:(0,a.jsx)("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm5 12H7v-4h10v4z"})}),"\xa0\xa0 ",h," \xa0\xa0",(0,a.jsx)("svg",{onClick:()=>countItemPlus(),xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 24 24",style:{fill:"rgba(0, 0, 0, 1)",transform:"",msfilter:"",cursor:"pointer"},children:(0,a.jsx)("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"})})]})]})})]}),(0,a.jsx)("tfoot",{className:"d-flex",style:{justifyContent:"flex-end"},children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{}),(0,a.jsx)("td",{}),(0,a.jsxs)("td",{children:["รวม:",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),"คงเหลือ"]}),(0,a.jsxs)("td",{className:"ng-binding",children:[Intl.NumberFormat().format(parseFloat((null==x?void 0:x.price)*h))," Cash",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),Intl.NumberFormat().format(parseFloat(m-(null==x?void 0:x.price)*h))," Cash"]})]})})]}),(0,a.jsxs)("div",{className:"modal-footer",children:[(0,a.jsx)("button",{type:"button",className:"btn btn-primary me-2","data-dismiss":"modal",onClick:()=>buyItem(x),"aria-label":"Close",children:"ตกลง"}),(0,a.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:()=>closeModel(),"aria-label":"Close",children:"ยกเลิก"})]})]})}),(0,a.jsx)("div",{className:"overlaymenu"})]})]})}}}]);